@game.route('/dashboard/<int:child_id>/<int:category_id>')
@login_required
def game_dashboard(child_id, category_id):
    child = ChildProfile.query.get_or_404(child_id)
    category = Category.query.get_or_404(category_id)

    # Get the correct element (image, word) for the category
    correct_element = Element.query.filter_by(category_id=category.id).order_by(db.func.random()).first()

    # Select two random incorrect elements (not the correct one)
    incorrect_elements = Element.query.filter(Element.category_id == category.id, Element.id != correct_element.id).order_by(db.func.random()).limit(2).all()

    # Combine correct and incorrect elements
    elements = incorrect_elements + [correct_element]

    # Shuffle elements so the correct one isn't always last
    random.shuffle(elements)

    # Pass the data to the template
    return render_template('dashboard.html', child=child, elements=elements, category=category, correct_element=correct_element)

